# 微前端

@phodal

# WHY

 - 遗留系统迁移
 - 聚合前端应用
 - 热闹驱动开发

# WHAT

> 微前端是一种类似于微服务的架构，它将微服务的理念应用于浏览器端，即将单页面前端应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。各个前端应用还可以独立开发、独立部署。

# 特性

 - 应用自治
 - 单一职责
 - 技术栈无关

# HOW

没有银弹


# 技术拆分方式

 - 路由分发式。通过 HTTP 服务器的反向代理功能，来将请求路由到对应的应用上。
 - 前端微服务化。在不同的框架之上设计通讯、加载机制，以在一个页面内加载对应的应用。
 - 微应用。通过软件工程的方式，在部署构建环境中，组合多个独立应用成一个单体应用。
 - 微件化。开发一个新的构建系统，将部分业务功能构建成一个独立的 chunk 代码，使用时只需要远程加载即可。
 - 前端容器化。通过将 iFrame 作为容器，来容纳其它前端应用。
 - 应用组件化。借助于 Web Components 技术，来构建跨框架的前端应用。

# 业务划分方式

 - 按照业务拆分
 - 按照权限拆分
 - 按照变更的频率拆分
 - 按照组织结构拆分 （康威定律）
 - 跟随后端微服务划分（DDD)

# 架构设计

 - 构建基础设施
 - 提取组件与模式库
 - 应用通信机制
 - 数据管理
 - 专用的构建系统

# 设计理念

 - 中心化：应用注册表
 - 标识化应用
 - 应用生命周期管理
 - 高内聚，低耦合

# 中心化：应用注册表

# 标识化应用

Unique

# 生命周期

 - load，决定加载哪个应用，并绑定生命周期
 - bootstrap，获取静态资源
 - mount，安装应用，如创建 DOM 节点
 - unload，删除应用的生命周期
 - unmount，卸载应用，如删除 DOM 节点、取消事件绑定

# 类微前端

应用微化

# 单体架构推荐：Clean Architecture



